name: telegram-stream-bot
services:
  - name: app
    instance_type: nano
    ports:
      - port: 8000
        protocol: http
    env:
      - name: BOT_TOKEN
        value: "7545348868:AAGKlDigB-trWf2lgpz5CLFFsMZvK2VXPLs"
      - name: MONGO_URI
        value: "mongodb+srv://room:room@room.4vris.mongodb.net/?appName=room"
      - name: TEMP_DIR
        value: "/app/temp_downloads"
    routes:
      - path: /
        port: 8000
    scalings:
      - min: 1
        max: 3
    health_checks:
      - type: tcp
        port: 8000
        interval: 30
        timeout: 10
        success_threshold: 1
        failure_threshold: 3
